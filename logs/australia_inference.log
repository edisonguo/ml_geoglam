processing: h27 v10
+ h=27
+ v=10
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 27 10 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:38:43
+ VER=310
+ H=27
+ V=10
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h27v10_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h27v10_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v10.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v10.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 27 10 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h27v10.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 27 10 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h27v10.006.2019010203448.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h27v10.006.2019010203448.hdf (1 of 4):
    time input_stack():  18.7011919022
    time ml_superfunc():  0.986347913742
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h27v10.006.2019022222621.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h27v10.006.2019022222621.hdf (2 of 4):
    time input_stack():  19.7426052094
    time ml_superfunc():  0.890469074249
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h27v10.006.2019030085308.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h27v10.006.2019030085308.hdf (3 of 4):
    time input_stack():  19.1171560287
    time ml_superfunc():  0.889469861984
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h27v10.006.2019036210928.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h27v10.006.2019036210928.hdf (4 of 4):
    time input_stack():  19.0989999771
    time ml_superfunc():  0.84209394455
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h27v10.006.2019042032657.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h27v10.006.2019042032657.hdf (1 of 4):
    time input_stack():  20.1092681885
    time ml_superfunc():  1.09104084969
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h27v10.006.2019051035130.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h27v10.006.2019051035130.hdf (2 of 4):
    time input_stack():  21.2233810425
    time ml_superfunc():  1.35505008698
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h27v10.006.2019058040752.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h27v10.006.2019058040752.hdf (3 of 4):
    time input_stack():  19.5086128712
    time ml_superfunc():  1.40568900108
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h27v10.006.2019066031443.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h27v10.006.2019066031443.hdf (4 of 4):
    time input_stack():  19.2469627857
    time ml_superfunc():  0.888068914413
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   4 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h27v10.006.2019072213956.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h27v10.006.2019072213956.hdf (1 of 4):
    time input_stack():  20.6559560299
    time ml_superfunc():  0.961055040359
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h27v10.006.2019079200524.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h27v10.006.2019079200524.hdf (2 of 4):
    time input_stack():  22.0332968235
    time ml_superfunc():  1.09334588051
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h27v10.006.2019091164416.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h27v10.006.2019091164416.hdf (3 of 4):
    time input_stack():  23.6107988358
    time ml_superfunc():  0.884696960449
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h27v10.006.2019094033026.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h27v10.006.2019094033026.hdf (4 of 4):
    time input_stack():  23.4293198586
    time ml_superfunc():  1.10301494598
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v10.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v10.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v10.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:43:14
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:43:14
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:43:14

real	4m31.209s
user	22m24.299s
sys	0m57.835s
done processing: h27 v10
processing: h27 v11
+ h=27
+ v=11
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 27 11 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:43:14
+ VER=310
+ H=27
+ V=11
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h27v11_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h27v11_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v11.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v11.2019
++ free -k
++ awk '{print $4}'
++ grep cache:
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 27 11 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h27v11.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 27 11 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h27v11.006.2019010203849.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h27v11.006.2019010203849.hdf (1 of 4):
    time input_stack():  19.6835141182
    time ml_superfunc():  1.47529697418
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h27v11.006.2019022231946.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h27v11.006.2019022231946.hdf (2 of 4):
    time input_stack():  20.0470879078
    time ml_superfunc():  1.4616291523
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h27v11.006.2019030092200.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h27v11.006.2019030092200.hdf (3 of 4):
    time input_stack():  19.849364996
    time ml_superfunc():  1.38179802895
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h27v11.006.2019036205937.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h27v11.006.2019036205937.hdf (4 of 4):
    time input_stack():  20.5895349979
    time ml_superfunc():  1.35699701309
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   4 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h27v11.006.2019042031342.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h27v11.006.2019042031342.hdf (1 of 4):
    time input_stack():  23.4451611042
    time ml_superfunc():  1.47675895691
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h27v11.006.2019051035206.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h27v11.006.2019051035206.hdf (2 of 4):
    time input_stack():  22.2010991573
    time ml_superfunc():  1.34492897987
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h27v11.006.2019058042600.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h27v11.006.2019058042559.hdf (3 of 4):
    time input_stack():  20.720870018
    time ml_superfunc():  1.56986498833
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h27v11.006.2019066032805.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h27v11.006.2019066032805.hdf (4 of 4):
    time input_stack():  18.484390974
    time ml_superfunc():  1.34038496017
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   3 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h27v11.006.2019072213905.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h27v11.006.2019072213905.hdf (1 of 4):
    time input_stack():  18.8283801079
    time ml_superfunc():  1.27629685402
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h27v11.006.2019079201812.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h27v11.006.2019079201812.hdf (2 of 4):
    time input_stack():  21.8086390495
    time ml_superfunc():  1.50576806068
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h27v11.006.2019091164304.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h27v11.006.2019091164304.hdf (3 of 4):
    time input_stack():  20.7688961029
    time ml_superfunc():  1.47925305367
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h27v11.006.2019094033311.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h27v11.006.2019094033311.hdf (4 of 4):
    time input_stack():  23.0808680058
    time ml_superfunc():  1.36660385132
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v11.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v11.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v11.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:47:54
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:47:54
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:47:54

real	4m39.906s
user	22m27.622s
sys	0m58.123s
done processing: h27 v11
processing: h27 v12
+ h=27
+ v=12
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 27 12 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:47:54
+ VER=310
+ H=27
+ V=12
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h27v12_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h27v12_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v12.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v12.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 27 12 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h27v12.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 27 12 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h27v12.006.2019010203216.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h27v12.006.2019010203216.hdf (1 of 4):
    time input_stack():  21.7145760059
    time ml_superfunc():  14.8529860973
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h27v12.006.2019022221257.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h27v12.006.2019022221257.hdf (2 of 4):
    time input_stack():  20.2081549168
    time ml_superfunc():  14.8924758434
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h27v12.006.2019030092021.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h27v12.006.2019030092021.hdf (3 of 4):
    time input_stack():  20.4003708363
    time ml_superfunc():  14.8747839928
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h27v12.006.2019036210116.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h27v12.006.2019036210116.hdf (4 of 4):
    time input_stack():  20.7265450954
    time ml_superfunc():  15.1469171047
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.6s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h27v12.006.2019042031855.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h27v12.006.2019042031855.hdf (1 of 4):
    time input_stack():  20.1614000797
    time ml_superfunc():  14.7813911438
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h27v12.006.2019051040249.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h27v12.006.2019051040249.hdf (2 of 4):
    time input_stack():  22.6382119656
    time ml_superfunc():  15.580231905
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h27v12.006.2019058041236.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h27v12.006.2019058041236.hdf (3 of 4):
    time input_stack():  21.0473430157
    time ml_superfunc():  14.8566980362
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h27v12.006.2019066032029.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h27v12.006.2019066032029.hdf (4 of 4):
    time input_stack():  22.3161931038
    time ml_superfunc():  14.8321368694
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.6s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h27v12.006.2019072214317.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h27v12.006.2019072214317.hdf (1 of 4):
    time input_stack():  19.4090588093
    time ml_superfunc():  14.9917900562
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h27v12.006.2019079200734.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h27v12.006.2019079200734.hdf (2 of 4):
    time input_stack():  18.743103981
    time ml_superfunc():  15.2948079109
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h27v12.006.2019091165302.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h27v12.006.2019091165302.hdf (3 of 4):
    time input_stack():  20.5043129921
    time ml_superfunc():  15.768889904
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h27v12.006.2019094032246.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h27v12.006.2019094032246.hdf (4 of 4):
    time input_stack():  21.9290180206
    time ml_superfunc():  15.8231539726
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.8s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='27', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v12.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h27v12.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h27v12.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:55:20
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:55:20
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:55:20

real	7m25.604s
user	29m48.601s
sys	15m58.625s
done processing: h27 v12
processing: h28 v10
+ h=28
+ v=10
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 28 10 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:55:20
+ VER=310
+ H=28
+ V=10
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h28v10_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h28v10_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v10.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v10.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 28 10 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h28v10.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 28 10 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h28v10.006.2019010203508.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h28v10.006.2019010203508.hdf (1 of 4):
    time input_stack():  19.7749519348
    time ml_superfunc():  1.45120596886
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h28v10.006.2019022231943.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h28v10.006.2019022231943.hdf (2 of 4):
    time input_stack():  19.2711439133
    time ml_superfunc():  1.3664932251
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h28v10.006.2019030092227.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h28v10.006.2019030092227.hdf (3 of 4):
    time input_stack():  23.7436368465
    time ml_superfunc():  1.37289786339
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h28v10.006.2019036210712.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h28v10.006.2019036210712.hdf (4 of 4):
    time input_stack():  19.8565778732
    time ml_superfunc():  1.41925692558
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   5 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   5 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   4 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  10 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h28v10.006.2019042032720.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h28v10.006.2019042032720.hdf (1 of 4):
    time input_stack():  22.4047601223
    time ml_superfunc():  1.4797911644
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h28v10.006.2019051040306.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h28v10.006.2019051040306.hdf (2 of 4):
    time input_stack():  19.0251729488
    time ml_superfunc():  1.35120415688
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h28v10.006.2019058041524.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h28v10.006.2019058041524.hdf (3 of 4):
    time input_stack():  20.3873748779
    time ml_superfunc():  1.33696198463
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h28v10.006.2019066031111.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h28v10.006.2019066031111.hdf (4 of 4):
    time input_stack():  20.0138859749
    time ml_superfunc():  1.33631706238
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   4 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h28v10.006.2019072213009.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h28v10.006.2019072213009.hdf (1 of 4):
    time input_stack():  18.6884858608
    time ml_superfunc():  1.24454307556
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h28v10.006.2019079200410.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h28v10.006.2019079200410.hdf (2 of 4):
    time input_stack():  20.5332829952
    time ml_superfunc():  1.36699795723
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h28v10.006.2019091165538.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h28v10.006.2019091165538.hdf (3 of 4):
    time input_stack():  19.3261809349
    time ml_superfunc():  1.35257697105
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h28v10.006.2019094033622.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h28v10.006.2019094033622.hdf (4 of 4):
    time input_stack():  21.488669157
    time ml_superfunc():  1.39839720726
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   7 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   3 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   3 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   3 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.0s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    0.1s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v10.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v10.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v10.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:59:54
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:59:54
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:59:54

real	4m33.808s
user	22m22.519s
sys	0m59.914s
done processing: h28 v10
processing: h28 v11
+ h=28
+ v=11
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 28 11 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 11:59:54
+ VER=310
+ H=28
+ V=11
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h28v11_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h28v11_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v11.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v11.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 28 11 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h28v11.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 28 11 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h28v11.006.2019010204015.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h28v11.006.2019010204015.hdf (1 of 4):
    time input_stack():  21.5448389053
    time ml_superfunc():  35.4692409039
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h28v11.006.2019022232036.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h28v11.006.2019022232036.hdf (2 of 4):
    time input_stack():  19.9169700146
    time ml_superfunc():  34.335821867
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h28v11.006.2019030084347.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h28v11.006.2019030084347.hdf (3 of 4):
    time input_stack():  19.1703209877
    time ml_superfunc():  34.4468240738
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h28v11.006.2019036210303.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h28v11.006.2019036210303.hdf (4 of 4):
    time input_stack():  19.4231448174
    time ml_superfunc():  35.1476261616
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.9s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h28v11.006.2019042031858.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h28v11.006.2019042031858.hdf (1 of 4):
    time input_stack():  20.1765580177
    time ml_superfunc():  34.6905250549
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h28v11.006.2019051040937.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h28v11.006.2019051040937.hdf (2 of 4):
    time input_stack():  18.1224610806
    time ml_superfunc():  34.9022870064
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h28v11.006.2019058041908.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h28v11.006.2019058041908.hdf (3 of 4):
    time input_stack():  19.0255742073
    time ml_superfunc():  34.3678970337
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h28v11.006.2019066031206.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h28v11.006.2019066031206.hdf (4 of 4):
    time input_stack():  19.637567997
    time ml_superfunc():  35.3730928898
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.9s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h28v11.006.2019072215426.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h28v11.006.2019072215426.hdf (1 of 4):
    time input_stack():  21.4734740257
    time ml_superfunc():  34.9817068577
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h28v11.006.2019079201237.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h28v11.006.2019079201237.hdf (2 of 4):
    time input_stack():  20.3843719959
    time ml_superfunc():  36.0762619972
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h28v11.006.2019091164719.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h28v11.006.2019091164719.hdf (3 of 4):
    time input_stack():  20.1649301052
    time ml_superfunc():  36.0734269619
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h28v11.006.2019094033301.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h28v11.006.2019094033301.hdf (4 of 4):
    time input_stack():  22.6028850079
    time ml_superfunc():  35.4901409149
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.1s finished
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.9s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v11.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v11.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v11.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:11:17
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:11:17
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:11:17

real	11m23.330s
user	51m49.760s
sys	22m26.700s
done processing: h28 v11
processing: h28 v12
+ h=28
+ v=12
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 28 12 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:11:17
+ VER=310
+ H=28
+ V=12
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h28v12_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h28v12_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v12.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v12.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 28 12 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h28v12.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 28 12 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h28v12.006.2019010204037.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h28v12.006.2019010204037.hdf (1 of 4):
    time input_stack():  20.9783508778
    time ml_superfunc():  22.6016430855
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h28v12.006.2019022222230.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h28v12.006.2019022222230.hdf (2 of 4):
    time input_stack():  21.9632930756
    time ml_superfunc():  22.4330871105
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h28v12.006.2019030092037.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h28v12.006.2019030092037.hdf (3 of 4):
    time input_stack():  21.8631248474
    time ml_superfunc():  22.3290438652
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h28v12.006.2019036210926.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h28v12.006.2019036210926.hdf (4 of 4):
    time input_stack():  22.5733718872
    time ml_superfunc():  22.9028840065
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.3s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h28v12.006.2019042032859.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h28v12.006.2019042032859.hdf (1 of 4):
    time input_stack():  19.4014930725
    time ml_superfunc():  22.7295308113
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h28v12.006.2019051040835.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h28v12.006.2019051040835.hdf (2 of 4):
    time input_stack():  19.7625908852
    time ml_superfunc():  23.0758569241
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h28v12.006.2019058042742.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h28v12.006.2019058042742.hdf (3 of 4):
    time input_stack():  19.146239996
    time ml_superfunc():  22.5443069935
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h28v12.006.2019066032552.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h28v12.006.2019066032552.hdf (4 of 4):
    time input_stack():  18.9953370094
    time ml_superfunc():  23.0028021336
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.3s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h28v12.006.2019072214726.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h28v12.006.2019072214726.hdf (1 of 4):
    time input_stack():  20.2300970554
    time ml_superfunc():  22.5749249458
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h28v12.006.2019079202946.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h28v12.006.2019079202946.hdf (2 of 4):
    time input_stack():  22.395179987
    time ml_superfunc():  22.9384641647
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h28v12.006.2019091165732.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h28v12.006.2019091165732.hdf (3 of 4):
    time input_stack():  21.8159399033
    time ml_superfunc():  23.4685239792
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h28v12.006.2019094032737.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h28v12.006.2019094032737.hdf (4 of 4):
    time input_stack():  19.2540700436
    time ml_superfunc():  23.2424659729
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    6.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.3s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='28', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v12.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h28v12.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h28v12.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:20:16
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:20:16
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:20:16

real	8m58.553s
user	37m59.391s
sys	19m49.998s
done processing: h28 v12
processing: h29 v10
+ h=29
+ v=10
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 29 10 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:20:16
+ VER=310
+ H=29
+ V=10
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h29v10_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h29v10_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v10.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v10.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 29 10 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h29v10.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 29 10 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h29v10.006.2019010203349.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h29v10.006.2019010203349.hdf (1 of 4):
    time input_stack():  19.2567300797
    time ml_superfunc():  17.069674015
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h29v10.006.2019022221147.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h29v10.006.2019022221147.hdf (2 of 4):
    time input_stack():  19.8145930767
    time ml_superfunc():  17.1959998608
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h29v10.006.2019030084337.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h29v10.006.2019030084337.hdf (3 of 4):
    time input_stack():  19.6244208813
    time ml_superfunc():  16.922180891
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h29v10.006.2019036210655.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h29v10.006.2019036210655.hdf (4 of 4):
    time input_stack():  25.0697059631
    time ml_superfunc():  16.4690020084
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.8s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h29v10.006.2019042033055.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h29v10.006.2019042033055.hdf (1 of 4):
    time input_stack():  20.8526520729
    time ml_superfunc():  15.9025640488
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h29v10.006.2019051035933.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h29v10.006.2019051035933.hdf (2 of 4):
    time input_stack():  19.3426611423
    time ml_superfunc():  17.4607360363
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h29v10.006.2019058041653.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h29v10.006.2019058041653.hdf (3 of 4):
    time input_stack():  20.0867118835
    time ml_superfunc():  16.5630469322
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h29v10.006.2019066031510.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h29v10.006.2019066031510.hdf (4 of 4):
    time input_stack():  21.166148901
    time ml_superfunc():  16.8767337799
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.9s finished
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.0s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h29v10.006.2019072213547.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h29v10.006.2019072213547.hdf (1 of 4):
    time input_stack():  19.7228851318
    time ml_superfunc():  17.1262209415
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h29v10.006.2019079201651.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h29v10.006.2019079201651.hdf (2 of 4):
    time input_stack():  20.7813248634
    time ml_superfunc():  16.5211901665
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h29v10.006.2019091164519.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h29v10.006.2019091164519.hdf (3 of 4):
    time input_stack():  18.7750191689
    time ml_superfunc():  16.2614660263
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h29v10.006.2019094033244.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h29v10.006.2019094033244.hdf (4 of 4):
    time input_stack():  23.5152230263
    time ml_superfunc():  17.2211060524
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.3s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v10.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v10.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v10.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:28:01
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:28:01
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:28:01

real	7m45.271s
user	31m29.663s
sys	16m49.543s
done processing: h29 v10
processing: h29 v11
+ h=29
+ v=11
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 29 11 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:28:01
+ VER=310
+ H=29
+ V=11
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h29v11_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h29v11_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v11.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v11.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 29 11 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h29v11.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 29 11 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h29v11.006.2019010203313.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h29v11.006.2019010203313.hdf (1 of 4):
    time input_stack():  19.7657220364
    time ml_superfunc():  51.3654310703
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h29v11.006.2019022222458.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h29v11.006.2019022222458.hdf (2 of 4):
    time input_stack():  21.6426520348
    time ml_superfunc():  49.9207181931
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h29v11.006.2019030092310.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h29v11.006.2019030092310.hdf (3 of 4):
    time input_stack():  25.7060480118
    time ml_superfunc():  50.2179560661
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h29v11.006.2019036210231.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h29v11.006.2019036210231.hdf (4 of 4):
    time input_stack():  23.2074058056
    time ml_superfunc():  53.3904030323
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   14.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.9s finished
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.5s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h29v11.006.2019042032923.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h29v11.006.2019042032923.hdf (1 of 4):
    time input_stack():  20.6020100117
    time ml_superfunc():  50.9054939747
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h29v11.006.2019051050441.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h29v11.006.2019051050441.hdf (2 of 4):
    time input_stack():  21.301074028
    time ml_superfunc():  50.5858139992
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h29v11.006.2019058042632.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h29v11.006.2019058042632.hdf (3 of 4):
    time input_stack():  21.7576808929
    time ml_superfunc():  50.2910988331
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h29v11.006.2019066031839.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h29v11.006.2019066031839.hdf (4 of 4):
    time input_stack():  21.2607450485
    time ml_superfunc():  50.6446130276
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:   10.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.3s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h29v11.006.2019072220111.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h29v11.006.2019072220111.hdf (1 of 4):
    time input_stack():  24.6606359482
    time ml_superfunc():  50.6561498642
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h29v11.006.2019079202719.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h29v11.006.2019079202719.hdf (2 of 4):
    time input_stack():  24.1375088692
    time ml_superfunc():  51.328856945
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h29v11.006.2019091165708.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h29v11.006.2019091165708.hdf (3 of 4):
    time input_stack():  21.5268719196
    time ml_superfunc():  51.1946289539
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h29v11.006.2019094033244.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h29v11.006.2019094033244.hdf (4 of 4):
    time input_stack():  21.2305989265
    time ml_superfunc():  50.2350611687
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   14.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   14.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:   10.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.1s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v11.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v11.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v11.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:43:01
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:43:01
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:43:01

real	15m0.093s
user	67m9.707s
sys	31m56.547s
done processing: h29 v11
processing: h29 v12
+ h=29
+ v=12
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 29 12 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:43:01
+ VER=310
+ H=29
+ V=12
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h29v12_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h29v12_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v12.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v12.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 29 12 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h29v12.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 29 12 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h29v12.006.2019010203808.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h29v12.006.2019010203808.hdf (1 of 4):
    time input_stack():  19.7126529217
    time ml_superfunc():  34.9824128151
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h29v12.006.2019022222455.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h29v12.006.2019022222455.hdf (2 of 4):
    time input_stack():  19.2921030521
    time ml_superfunc():  34.6954879761
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h29v12.006.2019030084618.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h29v12.006.2019030084618.hdf (3 of 4):
    time input_stack():  20.005136013
    time ml_superfunc():  34.7053091526
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h29v12.006.2019036211545.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h29v12.006.2019036211545.hdf (4 of 4):
    time input_stack():  19.4247190952
    time ml_superfunc():  35.7706730366
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.9s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h29v12.006.2019042032650.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h29v12.006.2019042032650.hdf (1 of 4):
    time input_stack():  21.7419710159
    time ml_superfunc():  36.3716869354
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h29v12.006.2019051041226.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h29v12.006.2019051041226.hdf (2 of 4):
    time input_stack():  20.1366488934
    time ml_superfunc():  36.0164630413
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h29v12.006.2019058041212.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h29v12.006.2019058041212.hdf (3 of 4):
    time input_stack():  17.4970939159
    time ml_superfunc():  37.4411828518
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h29v12.006.2019066031824.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h29v12.006.2019066031824.hdf (4 of 4):
    time input_stack():  19.2357919216
    time ml_superfunc():  36.1713020802
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.1s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h29v12.006.2019072215452.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h29v12.006.2019072215452.hdf (1 of 4):
    time input_stack():  20.5128509998
    time ml_superfunc():  35.6339991093
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h29v12.006.2019079202807.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h29v12.006.2019079202807.hdf (2 of 4):
    time input_stack():  19.4156808853
    time ml_superfunc():  35.7098040581
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h29v12.006.2019091165642.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h29v12.006.2019091165642.hdf (3 of 4):
    time input_stack():  20.3755910397
    time ml_superfunc():  36.0108511448
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h29v12.006.2019094033008.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h29v12.006.2019094033008.hdf (4 of 4):
    time input_stack():  19.5474851131
    time ml_superfunc():  36.1485340595
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.2s finished
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.0s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='29', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v12.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h29v12.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h29v12.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:54:33
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:54:33
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:54:33

real	11m32.011s
user	53m9.034s
sys	22m25.488s
done processing: h29 v12
processing: h30 v10
+ h=30
+ v=10
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 30 10 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 12:54:33
+ VER=310
+ H=30
+ V=10
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h30v10_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h30v10_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v10.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v10.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 30 10 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h30v10.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 30 10 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h30v10.006.2019010203602.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h30v10.006.2019010203602.hdf (1 of 4):
    time input_stack():  22.8803420067
    time ml_superfunc():  32.9983208179
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h30v10.006.2019022222435.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h30v10.006.2019022222435.hdf (2 of 4):
    time input_stack():  21.9855341911
    time ml_superfunc():  35.979170084
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h30v10.006.2019030092943.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h30v10.006.2019030092943.hdf (3 of 4):
    time input_stack():  20.931194067
    time ml_superfunc():  35.3793599606
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h30v10.006.2019036211454.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h30v10.006.2019036211454.hdf (4 of 4):
    time input_stack():  25.6648001671
    time ml_superfunc():  29.3434848785
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.7s finished
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.2s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h30v10.006.2019042031840.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h30v10.006.2019042031840.hdf (1 of 4):
    time input_stack():  18.8561689854
    time ml_superfunc():  33.2210509777
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h30v10.006.2019051040538.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h30v10.006.2019051040538.hdf (2 of 4):
    time input_stack():  24.3253901005
    time ml_superfunc():  36.9453029633
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h30v10.006.2019058042054.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h30v10.006.2019058042054.hdf (3 of 4):
    time input_stack():  24.4435529709
    time ml_superfunc():  35.5359199047
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h30v10.006.2019066032124.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h30v10.006.2019066032124.hdf (4 of 4):
    time input_stack():  18.4680519104
    time ml_superfunc():  35.0637111664
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.4s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h30v10.006.2019072214716.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h30v10.006.2019072214716.hdf (1 of 4):
    time input_stack():  21.6585950851
    time ml_superfunc():  33.4373590946
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h30v10.006.2019079201735.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h30v10.006.2019079201735.hdf (2 of 4):
    time input_stack():  20.7141439915
    time ml_superfunc():  32.1870651245
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h30v10.006.2019091164923.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h30v10.006.2019091164923.hdf (3 of 4):
    time input_stack():  21.2771379948
    time ml_superfunc():  28.7509591579
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h30v10.006.2019094033203.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h30v10.006.2019094033203.hdf (4 of 4):
    time input_stack():  24.1809558868
    time ml_superfunc():  32.9867901802
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.8s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v10.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v10.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v10.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:06:04
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:06:04
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:06:04

real	11m30.666s
user	50m26.988s
sys	21m14.302s
done processing: h30 v10
processing: h30 v11
+ h=30
+ v=11
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 30 11 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:06:04
+ VER=310
+ H=30
+ V=11
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h30v11_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h30v11_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v11.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v11.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 30 11 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h30v11.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 30 11 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h30v11.006.2019010203637.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h30v11.006.2019010203637.hdf (1 of 4):
    time input_stack():  19.3821470737
    time ml_superfunc():  49.7814030647
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h30v11.006.2019022222621.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h30v11.006.2019022222621.hdf (2 of 4):
    time input_stack():  25.3641397953
    time ml_superfunc():  50.0488829613
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h30v11.006.2019030084421.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h30v11.006.2019030084421.hdf (3 of 4):
    time input_stack():  24.2169389725
    time ml_superfunc():  50.6206262112
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h30v11.006.2019036210526.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h30v11.006.2019036210526.hdf (4 of 4):
    time input_stack():  24.6410939693
    time ml_superfunc():  52.8645169735
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.7s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   13.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:   10.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   14.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.3s finished
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.7s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   14.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:   10.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.3s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h30v11.006.2019042030725.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h30v11.006.2019042030725.hdf (1 of 4):
    time input_stack():  22.0137240887
    time ml_superfunc():  51.0445249081
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h30v11.006.2019051040744.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h30v11.006.2019051040744.hdf (2 of 4):
    time input_stack():  20.2183020115
    time ml_superfunc():  50.9006929398
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h30v11.006.2019058042306.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h30v11.006.2019058042306.hdf (3 of 4):
    time input_stack():  22.3868939877
    time ml_superfunc():  50.8019299507
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h30v11.006.2019066031220.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h30v11.006.2019066031220.hdf (4 of 4):
    time input_stack():  23.216452837
    time ml_superfunc():  50.8261919022
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.7s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   14.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.0s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h30v11.006.2019072214548.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h30v11.006.2019072214548.hdf (1 of 4):
    time input_stack():  20.2063889503
    time ml_superfunc():  51.5852439404
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h30v11.006.2019079202930.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h30v11.006.2019079202930.hdf (2 of 4):
    time input_stack():  24.2165558338
    time ml_superfunc():  52.3091549873
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h30v11.006.2019091164152.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h30v11.006.2019091164152.hdf (3 of 4):
    time input_stack():  22.7006280422
    time ml_superfunc():  51.7641739845
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h30v11.006.2019094033755.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h30v11.006.2019094033755.hdf (4 of 4):
    time input_stack():  20.755656004
    time ml_superfunc():  52.0711300373
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.7s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.7s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.7s finished
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   14.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.8s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   15.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.9s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    9.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   16.5s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v11.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v11.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v11.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:21:10
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:21:10
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:21:10

real	15m6.183s
user	67m25.816s
sys	32m0.618s
done processing: h30 v11
processing: h30 v12
+ h=30
+ v=12
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 30 12 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:21:10
+ VER=310
+ H=30
+ V=12
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h30v12_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h30v12_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v12.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v12.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 30 12 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h30v12.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 30 12 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h30v12.006.2019010203650.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h30v12.006.2019010203650.hdf (1 of 4):
    time input_stack():  19.7875590324
    time ml_superfunc():  27.6033530235
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h30v12.006.2019022222122.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h30v12.006.2019022222122.hdf (2 of 4):
    time input_stack():  20.6982438564
    time ml_superfunc():  28.655162096
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h30v12.006.2019030084329.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h30v12.006.2019030084329.hdf (3 of 4):
    time input_stack():  21.1609940529
    time ml_superfunc():  28.0036711693
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h30v12.006.2019036210818.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h30v12.006.2019036210818.hdf (4 of 4):
    time input_stack():  20.0630199909
    time ml_superfunc():  29.1359908581
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h30v12.006.2019042031340.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h30v12.006.2019042031340.hdf (1 of 4):
    time input_stack():  23.6935989857
    time ml_superfunc():  28.3552629948
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h30v12.006.2019051041139.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h30v12.006.2019051041139.hdf (2 of 4):
    time input_stack():  19.1100459099
    time ml_superfunc():  28.5346300602
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h30v12.006.2019058041646.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h30v12.006.2019058041646.hdf (3 of 4):
    time input_stack():  22.2067489624
    time ml_superfunc():  27.9314720631
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h30v12.006.2019066033445.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h30v12.006.2019066033445.hdf (4 of 4):
    time input_stack():  19.5946791172
    time ml_superfunc():  29.1930131912
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.9s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h30v12.006.2019072214151.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h30v12.006.2019072214151.hdf (1 of 4):
    time input_stack():  19.05321908
    time ml_superfunc():  28.497838974
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h30v12.006.2019079201527.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h30v12.006.2019079201527.hdf (2 of 4):
    time input_stack():  19.3085122108
    time ml_superfunc():  27.7965340614
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h30v12.006.2019091164550.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h30v12.006.2019091164550.hdf (3 of 4):
    time input_stack():  21.1176118851
    time ml_superfunc():  29.6390461922
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h30v12.006.2019094032336.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h30v12.006.2019094032336.hdf (4 of 4):
    time input_stack():  20.8962991238
    time ml_superfunc():  29.7670629025
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.0s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='30', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v12.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h30v12.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h30v12.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:31:18
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:31:18
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:31:18

real	10m8.151s
user	44m25.015s
sys	21m28.156s
done processing: h30 v12
processing: h31 v10
+ h=31
+ v=10
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 31 10 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:31:18
+ VER=310
+ H=31
+ V=10
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h31v10_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h31v10_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v10.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v10.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 31 10 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h31v10.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 31 10 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h31v10.006.2019010204104.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h31v10.006.2019010204104.hdf (1 of 4):
    time input_stack():  20.4757020473
    time ml_superfunc():  30.3918070793
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h31v10.006.2019022222653.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h31v10.006.2019022222653.hdf (2 of 4):
    time input_stack():  23.6520760059
    time ml_superfunc():  32.0754170418
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h31v10.006.2019030092154.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h31v10.006.2019030092154.hdf (3 of 4):
    time input_stack():  23.3504478931
    time ml_superfunc():  30.0715551376
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h31v10.006.2019036210953.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h31v10.006.2019036210953.hdf (4 of 4):
    time input_stack():  20.449570179
    time ml_superfunc():  24.5247650146
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.7s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h31v10.006.2019042031300.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h31v10.006.2019042031300.hdf (1 of 4):
    time input_stack():  21.4668331146
    time ml_superfunc():  17.6334149837
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h31v10.006.2019051040737.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h31v10.006.2019051040737.hdf (2 of 4):
    time input_stack():  19.6295039654
    time ml_superfunc():  30.9880850315
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h31v10.006.2019058042749.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h31v10.006.2019058042749.hdf (3 of 4):
    time input_stack():  20.8775939941
    time ml_superfunc():  32.0154690742
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h31v10.006.2019066032521.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h31v10.006.2019066032521.hdf (4 of 4):
    time input_stack():  21.5920300484
    time ml_superfunc():  32.6844007969
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    3.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    5.3s finished
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.6s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h31v10.006.2019072214916.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h31v10.006.2019072214916.hdf (1 of 4):
    time input_stack():  23.4856350422
    time ml_superfunc():  31.2994890213
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h31v10.006.2019079201743.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h31v10.006.2019079201743.hdf (2 of 4):
    time input_stack():  21.7816989422
    time ml_superfunc():  30.124505043
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h31v10.006.2019091164625.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h31v10.006.2019091164625.hdf (3 of 4):
    time input_stack():  21.5790770054
    time ml_superfunc():  26.8114151955
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h31v10.006.2019094034425.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h31v10.006.2019094034425.hdf (4 of 4):
    time input_stack():  22.4662978649
    time ml_superfunc():  24.6320400238
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.3s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    8.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    4.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    7.5s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc', v='10', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v10.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v10.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v10.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:41:45
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:41:45
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:41:46

real	10m27.441s
user	44m27.067s
sys	21m30.069s
done processing: h31 v10
processing: h31 v11
+ h=31
+ v=11
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 31 11 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:41:46
+ VER=310
+ H=31
+ V=11
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h31v11_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h31v11_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v11.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v11.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 31 11 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h31v11.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 31 11 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h31v11.006.2019010203955.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h31v11.006.2019010203954.hdf (1 of 4):
    time input_stack():  19.4948148727
    time ml_superfunc():  39.7038369179
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h31v11.006.2019022222317.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h31v11.006.2019022222317.hdf (2 of 4):
    time input_stack():  19.1168060303
    time ml_superfunc():  40.0138089657
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h31v11.006.2019030092128.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h31v11.006.2019030092128.hdf (3 of 4):
    time input_stack():  19.0106270313
    time ml_superfunc():  39.6165380478
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h31v11.006.2019036211008.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h31v11.006.2019036211008.hdf (4 of 4):
    time input_stack():  18.5729839802
    time ml_superfunc():  38.8405179977
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.4s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.0s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h31v11.006.2019042031830.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h31v11.006.2019042031830.hdf (1 of 4):
    time input_stack():  24.1495010853
    time ml_superfunc():  33.2035880089
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h31v11.006.2019051040825.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h31v11.006.2019051040825.hdf (2 of 4):
    time input_stack():  20.94080019
    time ml_superfunc():  45.5229082108
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h31v11.006.2019058041834.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h31v11.006.2019058041834.hdf (3 of 4):
    time input_stack():  21.2198381424
    time ml_superfunc():  44.5135679245
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h31v11.006.2019066031503.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h31v11.006.2019066031503.hdf (4 of 4):
    time input_stack():  21.4640660286
    time ml_superfunc():  40.4279921055
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.7s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    9.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.4s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    5.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   10.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   13.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   13.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   13.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.7s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   13.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   13.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.5s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   13.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.4s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h31v11.006.2019072214752.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h31v11.006.2019072214752.hdf (1 of 4):
    time input_stack():  21.1061239243
    time ml_superfunc():  39.1833519936
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h31v11.006.2019079201820.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h31v11.006.2019079201820.hdf (2 of 4):
    time input_stack():  22.3772120476
    time ml_superfunc():  41.1613562107
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h31v11.006.2019091163928.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h31v11.006.2019091163928.hdf (3 of 4):
    time input_stack():  20.8617370129
    time ml_superfunc():  45.8716831207
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h31v11.006.2019094033306.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h31v11.006.2019094033306.hdf (4 of 4):
    time input_stack():  20.5240848064
    time ml_superfunc():  40.8513588905
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.8s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    6.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   11.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.2s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.6s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   13.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   13.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    8.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   13.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.3s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.5s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.6s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    7.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:   12.4s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc', v='11', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v11.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v11.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v11.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:54:25
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:54:25
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:54:25

real	12m39.794s
user	58m22.194s
sys	24m15.317s
done processing: h31 v11
processing: h31 v12
+ h=31
+ v=12
+ model_path=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ output_dir=/local/geoglam_outputs
+ set -xeu
+ cd geoglam
+ year_bgn=2019
+ year_end=2019
+ checkpoint=fc_prod
+ python_bin=/local/anaconda2-python2.7/bin/python
+ bash pipeline.sh 31 12 2019 2019 fc_prod /local/geoglam_outputs /local/anaconda2-python2.7/bin/python /local/ml_geoglam/dist_forest_time_tile_full_84_features
+ set -u
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 13:54:25
+ VER=310
+ H=31
+ V=12
+ YEAR_BGN=2019
+ YEAR_END=2019
+ CHECKPOINT=fc_prod
+ BASE_OUTPUT=/local/geoglam_outputs/v310/tiles
+ PYTHON=/local/anaconda2-python2.7/bin/python
+ MODEL_PATH=/local/ml_geoglam/dist_forest_time_tile_full_84_features
+ PARALLEL=utils/parallel
+ FC_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ FC_LOGS=/local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
+ PACKED_OUTPUT=/local/geoglam_outputs/v310/tiles/8-day/cover
+ MEDOIDS_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/cover
+ ANOMALY_MEAN_DIFF_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies
+ ANOMALY_MEAN_DIFF_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/anomalies_h31v12_tmp
+ ANOMALY_PERCENTILE_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles
+ ANOMALY_PERCENTILE_TMP_OUTPUT=/local/geoglam_outputs/v310/tiles/monthly/deciles_h31v12_tmp
+ [[ fc_prod = \f\c\_\p\r\o\d ]]
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs
++ seq 2019 2019
+ for i in '$(seq $YEAR_BGN $YEAR_END)'
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v12.2019
+ mkdir -p /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v12.2019
++ free -k
++ grep cache:
++ awk '{print $4}'
+ FREEMEM=
++ echo '/(4.5*1024^2)'
++ bc
(standard_in) 1: syntax error
+ N_JOBS=
+ N_JOBS=1
++ python fc_prod/get_update_file.py /local/geoglam_outputs/v310/tiles/8-day/cover 2019 31 12 --version 310
+ UPDATE_FILE=/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc
+ seq 1 12
+ utils/parallel --will-cite -j1 -k --joblog /local/geoglam_outputs/v310/tiles/8-day/cover/fc_logs/h31v12.2019.parjob.log /local/anaconda2-python2.7/bin/python fc_prod/main.py /g/data2/u39/public/data/modis/lpdaac-tiles-c6/ /local/ml_geoglam/dist_forest_time_tile_full_84_features 2019 '{}' 31 12 /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc --version 310
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=1, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.21
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.05
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.13
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.29
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.01/MCD43A4.A2019001.h31v12.006.2019010203251.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.01/MCD43A2.A2019001.h31v12.006.2019010203251.hdf (1 of 4):
    time input_stack():  19.2706880569
    time ml_superfunc():  12.4186470509
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.09/MCD43A4.A2019009.h31v12.006.2019022222714.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.09/MCD43A2.A2019009.h31v12.006.2019022222714.hdf (2 of 4):
    time input_stack():  20.0212490559
    time ml_superfunc():  12.5769159794
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.17/MCD43A4.A2019017.h31v12.006.2019030092642.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.17/MCD43A2.A2019017.h31v12.006.2019030092642.hdf (3 of 4):
    time input_stack():  19.2953829765
    time ml_superfunc():  13.000426054
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.01.25/MCD43A4.A2019025.h31v12.006.2019036210950.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.01.25/MCD43A2.A2019025.h31v12.006.2019036210950.hdf (4 of 4):
    time input_stack():  21.164798975
    time ml_superfunc():  13.0940771103
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.0s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.6s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.2s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.8s finished
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.8s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=2, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.22
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.02/MCD43A4.A2019033.h31v12.006.2019042032256.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.02/MCD43A2.A2019033.h31v12.006.2019042032256.hdf (1 of 4):
    time input_stack():  24.4235560894
    time ml_superfunc():  13.2802729607
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.10/MCD43A4.A2019041.h31v12.006.2019051040757.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.10/MCD43A2.A2019041.h31v12.006.2019051040757.hdf (2 of 4):
    time input_stack():  21.7457120419
    time ml_superfunc():  13.0841591358
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.18/MCD43A4.A2019049.h31v12.006.2019058041810.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.18/MCD43A2.A2019049.h31v12.006.2019058041810.hdf (3 of 4):
    time input_stack():  19.0421881676
    time ml_superfunc():  13.3206059933
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.02.26/MCD43A4.A2019057.h31v12.006.2019066031547.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.02.26/MCD43A2.A2019057.h31v12.006.2019066031547.hdf (4 of 4):
    time input_stack():  18.4637138844
    time ml_superfunc():  13.4397928715
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.0s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.8s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=3, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.06
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.14
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.22
/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc, creating FC products from scratch
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.02/MCD43A4.A2019061.h31v12.006.2019072213714.hdf (1 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.02/MCD43A2.A2019061.h31v12.006.2019072213714.hdf (1 of 4):
    time input_stack():  19.2388441563
    time ml_superfunc():  13.0059001446
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.10/MCD43A4.A2019069.h31v12.006.2019079201846.hdf (2 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.10/MCD43A2.A2019069.h31v12.006.2019079201846.hdf (2 of 4):
    time input_stack():  20.0687630177
    time ml_superfunc():  13.0906360149
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.18/MCD43A4.A2019077.h31v12.006.2019091164757.hdf (3 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.18/MCD43A2.A2019077.h31v12.006.2019091164757.hdf (3 of 4):
    time input_stack():  21.4286520481
    time ml_superfunc():  12.586247921
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
processing tile: /g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A4.006/2019.03.26/MCD43A4.A2019085.h31v12.006.2019094033405.hdf (4 of 4):
processing mask tile:/g/data2/u39/public/data/modis/lpdaac-tiles-c6/MCD43A2.006/2019.03.26/MCD43A2.A2019085.h31v12.006.2019094033405.hdf (4 of 4):
    time input_stack():  20.4396471977
    time ml_superfunc():  12.8835940361
saving output to /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator DecisionTreeRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
/local/anaconda2-python2.7/lib/python2.7/site-packages/sklearn/base.py:251: UserWarning: Trying to unpickle estimator RandomForestRegressor from version 0.18.1 when using version 0.20.1. This might lead to breaking code or invalid results. Use at your own risk.
  UserWarning)
fc_prod/main.py:227: RuntimeWarning: divide by zero encountered in log
  bands_stack[:, ii:ii+7] = np.nan_to_num( np.log(bands_stack[:, :7]) )
fc_prod/main.py:242: RuntimeWarning: overflow encountered in multiply
  bands_stack[:, ii] = np.nan_to_num( bands_stack[:, b+7] * bands_stack[:, b2+7] )
fc_prod/main.py:248: RuntimeWarning: divide by zero encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
fc_prod/main.py:248: RuntimeWarning: invalid value encountered in divide
  bands_stack[:, ii] = np.nan_to_num( (bands_stack[:, b2]-bands_stack[:, b]) / (bands_stack[:, b2]+bands_stack[:, b]) )
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.4s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    4.1s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
/local/anaconda2-python2.7/lib/python2.7/site-packages/numpy/core/_methods.py:36: RuntimeWarning: overflow encountered in reduce
  return umr_sum(a, axis, dtype, out, keepdims, initial)
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.7s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    1.9s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.5s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.3s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.9s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.2s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.8s finished
[Parallel(n_jobs=8)]: Using backend ThreadingBackend with 8 concurrent workers.
[Parallel(n_jobs=8)]: Done   2 tasks      | elapsed:    0.1s
[Parallel(n_jobs=8)]: Done  56 tasks      | elapsed:    2.1s
[Parallel(n_jobs=8)]: Done  96 out of  96 | elapsed:    3.7s finished
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=4, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=5, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=6, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=7, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=8, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=9, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=10, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=11, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
Namespace(destination='/local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp', h='31', model_path='/local/ml_geoglam/dist_forest_time_tile_full_84_features', month=12, root_path='/g/data2/u39/public/data/modis/lpdaac-tiles-c6/', update_file='/local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc', v='12', version='310', year=2019)
No tiles found
+ /local/anaconda2-python2.7/bin/python fc_prod/packer.py /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v12.2019/ /local/geoglam_outputs/v310/tiles/8-day/cover --update_file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc --version 310
Update file not found: /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc, creating FC products from scratch
Saving file /local/geoglam_outputs/v310/tiles/8-day/cover/FC.v310.MCD43A4.h31v12.2019.006.nc (12, 2400, 2400)
+ rm -rf /local/geoglam_outputs/v310/tiles/8-day/cover/fc_outputs_tmp/h31v12.2019
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 14:01:20
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 14:01:20
+ echo __checkpoint_fc_prod
__checkpoint_fc_prod
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \m\e\d\o\i\d\s ]]
+ INIT_YEAR=2001
++ date +%Y
+ CURR_YEAR=2019
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \a\n\o\m\a\l\y\_\d\e\t\e\c\t\i\o\n ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\m\e\a\n\_\d\i\f\f ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\o\m\b\i\n\e\_\p\e\r\c\e\n\t\i\l\e\s ]]
+ [[ fc_prod = \a\l\l\_\a\g\g ]]
+ [[ fc_prod = \c\l\e\a\n\u\p ]]
+ date '+%Y-%m-%d %H:%M:%S'
2019-04-08 14:01:20

real	6m54.510s
user	27m56.201s
sys	14m20.824s
done processing: h31 v12
